# 3. Modulis

Šajā nedēļā būs trīs daļas un nedēļas beigu tests:

3. Ievads paralēlajā skaitļošanā
   
3.1 Piemērs

3.2 Paralēlo algoritmu tipi

3.3 Paralēlās skaitļošanas veidi

3.3 Pašpārbaudes tests

Paralēlās skaitļošanas mērogi

3.5.Paralēlā mērogošana

3.6 Paralēlās mērogošanas ierobežojumi

3.7 Amdāla likums

3.8 Pašpārbaudes tests

Paralelizācija ar CPU un GPU

3.9. Instrukciju līmeņa paralelizācija

3.10 GPU jeb grafiskais procesors

3.11 Pašpārbaudes tests

3. Nedēļas beigu tests
   

# 3. Ievads paralēlajā skaitļošanā

**Paralēlās skaitļošanas pamatideja ir sadalīt vienu skaitļošanas uzdevumu vairākos mazākos atsevišķos uzdevumos un risināt tos vienlaicīgi uz vairākiem skaitļotājiem.**

Atsevišķus uzdevumus var risināt vienlaikus uz atsevišķām skaitļošanas ierīcēm. Modernajos skaitļošanas procesoros (CPU) skaitļošanu veic procesora kodols (core) un tādi vienā procesorā var būt vairāki. Tas arī var nodrošināt būtisku viena uzdevuma kopējā aprēķinu laika samazinājumu.

Piemēram, veicot laika prognozes tiek veidots matemātisks modelis. Pēc novērojumu datiem un to izmaiņu tendencēm tiek rēķināts kādas izmaiņas ir gaidāmas nākotnē, bet veicot aprēķinus ar vienu procesora kodolu tas aizņem daudz laika un laika prognozi parītdienai mēs saņemsim tikai pēc nedēļas. Sadalot aprēķinus uz daudziem procesoru kodoliem var ievērojami samazināt kopējo aprēķinu laiku.

Šāda aprēķinu shēma ir parādīta attēlā. Ieejas datus un pašu uzdevumu mēs sadalām N atsevišķos uzdevumos un beigās visus iegūtos rezultātus apkopojam.

<img src="https://raw.githubusercontent.com/viktorszagorskis/hpc-pamati/main/pix/paralel01.png" alt="Zinātnes paradigmas" width="600"/>

Viena no superdatoru aktuālajām problēmām ir lielais elektroenerģijas patēriņš. Palielinot procesora darbības ātrumu palielinās arī elektroenerģijas patēriņš un nepieciešamība pēc dzesēšanas. Paralēlā skaitļošanas priekšrocība ir tāda, ka elektroenerģijas patēriņš sadalās pa daudziem procesora kodoliem un tiek atvieglota arī dzesēšana. Paralēlai skaitļošanai ir arī citas priekšrocības un arī tās apskatīsim šajā modulī.

Uzdevumu sadalīt vairākos vai daudzos atsevišķos uzdevumos var dažādi un risinājumi var būt atšķirīgi. Šeit apskatīsim vienkāršu piemēru kā izrēķināt skaitļu summu izmantojot paralēlo pieeju.

## 3.1 Piemērs

Anna un Jānis grib aprēķināt 20 skaitļu summu, piemēram, cik kopā izdota nauda par dienas laikā veiktajiem pirkumiem. Viens no viņiem varētu uzņemties šo darbu, tāpat kā viens centrālais procesors veic aprēķinus datorā. Bet kā viņi to varētu darīt paralēli? 

Lai saskaitītu pirkumu summu paralēli, Anna un Jānis varētu sadalīt 20 skaitļus divās daļas pa 10 (skatīt attēlu zemāk). Tad katrs no viņiem aprēķina savu 10 skaitļu summu. Pēc tam katra iegūtie rezultāti jāsaskaita un tas būs gala rezultāts.

Piemēram, ja Annai vienai pašai sarēķināt 20 skaitļu summu vajadzētu 20 sekundes, tad sadalot darbu uz pusēm tam vajadzētu tikai 10 sekundes, ja abi to darītu vienādā ātrumā. 

Turklāt, ja 20 ir maksimālais skaits, ko katrs vispār spēj sasummēt, tad abi kopā jau varētu sasummēt pat 40 skaitļus. Šāds ierobežojums (20 katram) datorā varētu būt tāpēc, ka procesoram ir ierobežots pieejamās atmiņas apjoms.  

<img src="https://raw.githubusercontent.com/viktorszagorskis/hpc-pamati/main/pix/paralel02.png" alt="Zinātnes paradigmas" width="600"/>

**Pašpārbaudes tests**  (Pareizās atbildes ar trekno. Ja pirmajā reizē nav pareizi tad var atkal mēģināt atkārtoti neierobežotu skaitu reižu)

**Paralēlā skaitļošana ir galvenā superskaitļošanas ideja. Kuri no šiem apgalvojumiem ir pareizi?**

**Paralēlajā skaitļošanās uzdevumu sadala vairākos atsevišķos uzdevumos.**

Paralēlo skaitļošanu var lietot tikai tad, ja sadalot uzdevumu katrs no atsevišķiem uzdevumiem jau pats par sevi dod kādu nozīmīgu rezultātu. Tas nozīmē, ka atsevišķos uzdevumos iegūtie rezultāti nav jāapvieno.

**Paralēlā skaitļošana dod iespēju veikt lielāka apjoma aprēķinus un veikt tos ātrāk.**

Paralēlajā skaitļošanā uzdevumu var sadalīt tikai divos atsevišķos uzdevumos, kā piemērā ar Annu un Jāni. Ja kādu uzdevumu sadalītu trīs atsevišķos uzdevumos, tad tā būtu skaitļošana trīs dimensijās un tas nedotu nekādu ieguvumu.


